# Как вернуть ссылку на игру и работу бота

## 1. Включить GitHub Pages (чтобы снова появилась ссылка)

1. Открой репозиторий на GitHub: **https://github.com/tibarr/tap_game**
2. Зайди в **Settings** (Настройки) репозитория.
3. В левом меню выбери **Pages**.
4. В блоке **Build and deployment**:
   - **Source** выбери: **GitHub Actions** (не "Deploy from a branch").
5. Сохрани. После первого пуша в ветку `main` workflow сам задеплоит сайт.

Если выберешь **Deploy from a branch**:
   - Branch: **main**
   - Folder: **/ (root)**  
   Тогда GitHub будет отдавать файлы из корня репо (в том числе `index.html`).

---

## 2. Ссылка на игру

После деплоя игра будет доступна по адресу:

**https://tibarr.github.io/tap_game/**

Эту ссылку нужно снова прописать в боте.

---

## 3. Настроить бота в Telegram (BotFather)

1. Открой [@BotFather](https://t.me/BotFather) в Telegram.
2. Отправь команду `/mybots` и выбери своего бота.
3. Нажми **Bot Settings** → **Menu Button** (или **Configure menu button**).
4. Укажи:
   - **Menu button URL**: `https://tibarr.github.io/tap_game/`
   - Либо настрой **Web App**: в коде бота при открытии Mini App используй этот же URL.

Если бот открывает игру через кнопку или команду — в коде бота должен быть именно этот URL.

---

## 4. Обновление кода (чтобы ссылка не «пропадала»)

- В репозитории уже добавлен workflow: при каждом **push в ветку `main`** проект автоматически деплоится на GitHub Pages.
- Просто делай:
  ```bash
  git add .
  git commit -m "обновление игры"
  git push origin main
  ```
- Через 1–2 минуты сайт по ссылке обновится.

---

## 5. Бэкенд (таблица лидеров, очки)

Игра с GitHub Pages обращается к API по адресу, который задаётся в `index.html`:

- Сейчас для продакшена там заглушка: `https://YOUR_BACKEND_URL`.
- Нужно заменить `YOUR_BACKEND_URL` на реальный URL твоего бэкенда (например, с Render, Railway, VPS), **без** `https://` в конце.
- Пример: если бэкенд на Render по адресу `https://tap-game-api.onrender.com`, в коде должно быть:
  ```js
  const API_BASE_URL = isProduction ? 'https://tap-game-api.onrender.com' : 'http://localhost:3001';
  ```
- Также в `index.html` замени `твой_бот_bot` на **@username** своего бота (для реферальной ссылки).

---

## 6. Краткий чеклист

- [ ] В репо **Settings → Pages** выбран источник **GitHub Actions** (или branch `main` + root).
- [ ] Сделал **push** в `main` — через пару минут открывается https://tibarr.github.io/tap_game/
- [ ] В BotFather / коде бота указан URL: `https://tibarr.github.io/tap_game/`
- [ ] В `index.html` заменён `YOUR_BACKEND_URL` на URL бэкенда и `твой_бот_bot` на имя бота.

После этого ссылка снова будет в репозитории (в описании или в Pages), и бот снова будет открывать игру.
