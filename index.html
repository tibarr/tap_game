<!DOCTYPE html>
<html>
<head>
    <title>–¢–∞–ø–∞–ª–∫–∞ AIR</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            background: #0a0f1e;
            color: white;
            text-align: center;
            padding-top: 50px;
            font-family: Arial, sans-serif;
            margin: 0;
            padding-bottom: 100px;
        }
        .tap-button {
            font-size: 80px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.1s;
            user-select: none;
            background: #00a8ff;
            color: white;
            padding: 30px 50px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 30px;
            box-shadow: 0 10px 0 #0077b3;
        }
        .tap-button:active {
            transform: scale(0.9);
            box-shadow: 0 5px 0 #0077b3;
        }
        #score {
            font-size: 48px;
            margin: 30px;
            font-weight: bold;
            color: gold;
        }
        #user-info {
            font-size: 16px;
            color: #88ff88;
            margin-top: 30px;
            background: #1a2a3a;
            padding: 10px;
            border-radius: 10px;
            display: inline-block;
        }
        /* ===== –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –ö–ù–û–ü–û–ö ===== */
        .buttons-container {
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            padding: 0 20px;
        }
        /* ===== –°–¢–ò–õ–¨ –ö–ù–û–ü–ö–ò –ö–ê–ö –£ AIR, –ù–û –ú–ï–ù–¨–®–ï ===== */
        .action-button {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.1s;
            user-select: none;
            background: #00a8ff;
            color: white;
            padding: 15px 30px;
            border-radius: 40px;
            display: inline-block;
            box-shadow: 0 8px 0 #0077b3;
            border: none;
            min-width: 140px;
            letter-spacing: 1px;
        }
        .action-button:active {
            transform: scale(0.92);
            box-shadow: 0 4px 0 #0077b3;
        }
    </style>
</head>
<body>
    <h1>‚úàÔ∏è TAP AIR</h1>
    <div id="score">0</div>
    
    <div class="tap-button" onclick="tap()">
        AIR
    </div>

    <!-- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="user-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <!-- ===== –ö–û–ù–¢–ï–ô–ù–ï–† –° –ö–ù–û–ü–ö–ê–ú–ò ===== -->
    <div class="buttons-container">
        <!-- –ö–Ω–æ–ø–∫–∞ –ë–æ–Ω—É—Å—ã -->
        <div class="action-button" onclick="bonusClick()">
            üéÅ –ë–æ–Ω—É—Å—ã
        </div>
        <!-- –°—é–¥–∞ –ø–æ—Ç–æ–º –¥–æ–±–∞–≤–∏—à—å –¥—Ä—É–≥–∏–µ –∫–Ω–æ–ø–∫–∏ -->
    </div>

    <script>
        // ===================================
        // 1. –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö TELEGRAM
        // ===================================
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // ===================================
        // 2. –ü–û–õ–£–ß–ê–ï–ú TELEGRAM ID –ò–ì–†–û–ö–ê
        // ===================================
        const initData = window.Telegram.WebApp.initDataUnsafe;
        const userId = initData.user?.id;
        const userName = initData.user?.first_name || "–ò–≥—Ä–æ–∫";

        // ===================================
        // 3. –ü–û–ö–ê–ó–´–í–ê–ï–ú ID –ù–ê –≠–ö–†–ê–ù–ï
        // ===================================
        if (userId) {
            document.getElementById('user-info').innerHTML = 
                `üÜî –¢–≤–æ–π Telegram ID: <strong>${userId}</strong><br>üë§ –ü—Ä–∏–≤–µ—Ç, ${userName}!`;
        } else {
            document.getElementById('user-info').innerHTML = 
                `‚ö†Ô∏è –ó–∞–ø—É—Å—Ç–∏ –∏–≥—Ä—É —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–π ID`;
        }

        // ===================================
        // 4. –ó–ê–ì–†–£–ó–ö–ê –°–ß–Å–¢–ê –ò–ó –•–†–ê–ù–ò–õ–ò–©–ê
        // ===================================
        const storageKey = userId ? "tap_score_" + userId : "tap_score_guest";
        
        let count = localStorage.getItem(storageKey);
        if (count === null) {
            count = 0;
        } else {
            count = parseInt(count);
        }
        
        document.getElementById('score').innerText = count;

        // ===================================
        // 5. –§–£–ù–ö–¶–ò–Ø –¢–ê–ü–ê
        // ===================================
        function tap() {
            count++;
            document.getElementById('score').innerText = count;
            
            if (userId) {
                localStorage.setItem(storageKey, count);
            }
            
            tg.HapticFeedback.impactOccurred('medium');
        }

        // ===================================
        // 6. –§–£–ù–ö–¶–ò–Ø –ë–û–ù–£–°–û–í (–ü–£–°–¢–ê–Ø)
        // ===================================
        function bonusClick() {
            // –°—é–¥–∞ –ø–æ—Ç–æ–º –¥–æ–±–∞–≤–∏—à—å –ª–æ–≥–∏–∫—É
            tg.HapticFeedback.impactOccurred('light');
            tg.showAlert('üéÅ –†–∞–∑–¥–µ–ª –±–æ–Ω—É—Å–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }
    </script>
</body>
</html>